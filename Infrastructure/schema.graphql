type Music {
  music_id: ID!
  title: String!
  artist: String
  album: String
  duration: Int
  file_url: String!
  stream_url: String
  uploaded_at: AWSDateTime!
  user_id: String!
  username: String
}

type User {
  user_id: ID!
  username: String!
  email: String!
  fullname: String
  created_at: AWSDateTime!
  total_tracks: Int
  total_plays: Int
  followers: Int
  following: Int
}

type Query {
  listMusic: [Music]
  listAllMusic: [Music]
  getMusic(music_id: ID!): Music
  getCurrentUser: User
  getUser(user_id: ID!): User
}

type Mutation {
  createMusic(
    title: String!
    artist: String
    album: String
    duration: Int
  ): MusicUploadResponse
  deleteMusic(music_id: ID!): Music
  updateUserProfile(fullname: String): User
}

type MusicUploadResponse {
  music_id: ID!
  upload_url: String!
  message: String!
}

schema {
  query: Query
  mutation: Mutation
}
